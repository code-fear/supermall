{"ast":null,"code":"import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    cartList: []\n  },\n  getters: {},\n  mutations: {\n    addCounter: function addCounter(state, payload) {\n      payload.count++;\n    },\n    addToCart: function addToCart(state, payload) {\n      state.cartList.push(payload);\n    }\n  },\n  actions: {\n    addCart: function addCart(context, payload) {\n      // let oldProduct = null;\n      // for(let item of state.cartList){\n      //   if (item.iid === payload.iid){\n      //     oldProduct = item \n      //   }\n      // }\n      var oldProduct = context.state.cartList.find(function (item) {\n        return item.iid === payload.iid;\n      }); //2.判断oldProduct\n\n      if (oldProduct) {\n        // oldProduct.count += 1\n        context.commit('addCounter', oldProduct);\n      } else {\n        payload.count = 1; // context.state.cartList.push(payload)\n\n        context.commit('addToCart', payload);\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["E:/VSCode/project/Vue/supermall01/src/store/index.js"],"names":["Vue","Vuex","use","Store","state","cartList","getters","mutations","addCounter","payload","count","addToCart","push","actions","addCart","context","oldProduct","find","item","iid","commit","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACE,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADqB;AAI5BC,EAAAA,OAAO,EAAE,EAJmB;AAM5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UADS,sBACEJ,KADF,EACQK,OADR,EACgB;AACvBA,MAAAA,OAAO,CAACC,KAAR;AACD,KAHQ;AAITC,IAAAA,SAJS,qBAICP,KAJD,EAIOK,OAJP,EAIe;AACtBL,MAAAA,KAAK,CAACC,QAAN,CAAeO,IAAf,CAAoBH,OAApB;AACD;AANQ,GANiB;AAc5BI,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCC,OADD,EACUN,OADV,EACmB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,UAAIO,UAAU,GAAGD,OAAO,CAACX,KAAR,CAAcC,QAAd,CAAuBY,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaV,OAAO,CAACU,GAAzB;AAAA,OAAhC,CAAjB,CAPwB,CAQxB;;AACA,UAAIH,UAAJ,EAAgB;AACd;AACAD,QAAAA,OAAO,CAACK,MAAR,CAAe,YAAf,EAA4BJ,UAA5B;AACD,OAHD,MAGO;AACLP,QAAAA,OAAO,CAACC,KAAR,GAAgB,CAAhB,CADK,CAEL;;AACAK,QAAAA,OAAO,CAACK,MAAR,CAAe,WAAf,EAA2BX,OAA3B;AACD;AAEF;AAnBM,GAdmB;AAmC5BY,EAAAA,OAAO,EAAE;AAnCmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    cartList: []\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    addCounter(state,payload){\r\n      payload.count++\r\n    },\r\n    addToCart(state,payload){\r\n      state.cartList.push(payload)\r\n    },\r\n  },\r\n  actions: {\r\n    addCart(context, payload) {\r\n      // let oldProduct = null;\r\n      // for(let item of state.cartList){\r\n      //   if (item.iid === payload.iid){\r\n      //     oldProduct = item \r\n      //   }\r\n      // }\r\n      let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n      //2.判断oldProduct\r\n      if (oldProduct) {\r\n        // oldProduct.count += 1\r\n        context.commit('addCounter',oldProduct)\r\n      } else {\r\n        payload.count = 1\r\n        // context.state.cartList.push(payload)\r\n        context.commit('addToCart',payload)\r\n      }\r\n\r\n    }\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}