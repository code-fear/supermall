{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DetailNavBar from \"./childComps/DetailNavBar.vue\";\nimport { getDetail, Goods, Shop, GoodsParam } from \"../../../network/detail\";\nimport DetailSwiper from \"./childComps/DetailSwiper.vue\";\nimport DetailBaseInfo from \"./childComps/DetailBaseInfo.vue\";\nimport DetailShopInfo from \"./childComps/DetailShopInfo.vue\";\nimport Scroll from \"../../components/common/Scroll/Scroll.vue\";\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo.vue';\nimport DetailParamInfo from './childComps/DetailParamInfo.vue';\nexport default {\n  name: \"Detail\",\n  components: {\n    DetailNavBar: DetailNavBar,\n    DetailSwiper: DetailSwiper,\n    DetailBaseInfo: DetailBaseInfo,\n    DetailShopInfo: DetailShopInfo,\n    Scroll: Scroll,\n    DetailGoodsInfo: DetailGoodsInfo,\n    DetailParamInfo: DetailParamInfo\n  },\n  data: function data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop: {},\n      detailInfo: {},\n      paramInfo: {}\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // console.log(this.$route.params);\n    this.iid = this.$route.params.iid; // 2.根据iid请求详情数据\n\n    getDetail(this.iid).then(function (res) {\n      // 1.获取顶部的图片轮播数据\n      console.log(res);\n      var data = res.data.result;\n      _this.topImages = data.itemInfo.topImages; // 2.获取商品信息\n\n      _this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services); // 3.创建店铺信息的对象\n\n      _this.shop = new Shop(data.shopInfo); // 4.保存商品的详情数据\n\n      _this.detailInfo = data.detailInfo; // 5.获取参数的信息\n\n      _this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule);\n    });\n  },\n  methods: {\n    imageLoad: function imageLoad() {\n      this.$ref.scroll.refresh();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,gBADA;AAEAC;AACAC,8BADA;AAEAC,8BAFA;AAGAC,kCAHA;AAIAC,kCAJA;AAKAC,kBALA;AAMAC,oCANA;AAOAC;AAPA,GAFA;AAWAC,MAXA,kBAWA;AACA;AACAC,eADA;AAEAC,mBAFA;AAGAC,eAHA;AAIAC,cAJA;AAKAC,oBALA;AAMAC;AANA;AAQA,GApBA;AAqBAC,SArBA,qBAqBA;AAAA;;AACA;AACA,sCAFA,CAGA;;AACAC;AACA;AACAC;AACA;AACA,gDAJA,CAMA;;AACA,8BACAT,aADA,EAEAA,YAFA,EAGAA,sBAHA,EAPA,CAaA;;AACA,2CAdA,CAgBA;;AACA,yCAjBA,CAmBA;;AACA,uCACAA,oBADA,EAEAA,oBAFA;AAIA,KAxBA;AAyBA,GAlDA;AAmDAU;AACAC,aADA,uBACA;AACA;AACA;AAHA;AAnDA","names":["name","components","DetailNavBar","DetailSwiper","DetailBaseInfo","DetailShopInfo","Scroll","DetailGoodsInfo","DetailParamInfo","data","iid","topImages","goods","shop","detailInfo","paramInfo","created","getDetail","console","methods","imageLoad"],"sourceRoot":"src/views/detail","sources":["Detail.vue"],"sourcesContent":["<template>\r\n  <div id=\"detail\">\r\n    <detail-nav-bar class=\"detail-nav\" />\r\n    <scroll class=\"content\" ref=\"scroll\">\r\n      <detail-swiper :topImages=\"topImages\" />\r\n      <detail-base-info :goods=\"goods\" />\r\n      <detail-shop-info :shop=\"shop\" />\r\n      <detail-goods-info :detailInfo=\"detailInfo\" @click=\"imageLoad\" />\r\n      <detail-param-info :paramInfo=\"paramInfo\"/>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from \"./childComps/DetailNavBar.vue\";\r\nimport { getDetail, Goods, Shop, GoodsParam } from \"../../../network/detail\";\r\nimport DetailSwiper from \"./childComps/DetailSwiper.vue\";\r\nimport DetailBaseInfo from \"./childComps/DetailBaseInfo.vue\";\r\nimport DetailShopInfo from \"./childComps/DetailShopInfo.vue\";\r\nimport Scroll from \"../../components/common/Scroll/Scroll.vue\";\r\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo.vue';\r\nimport DetailParamInfo from './childComps/DetailParamInfo.vue';\r\n\r\nexport default {\r\n  name: \"Detail\",\r\n  components: {\r\n    DetailNavBar,\r\n    DetailSwiper,\r\n    DetailBaseInfo,\r\n    DetailShopInfo,\r\n    Scroll,\r\n    DetailGoodsInfo,\r\n    DetailParamInfo,\r\n  },\r\n  data() {\r\n    return {\r\n      iid: null,\r\n      topImages: [],\r\n      goods: {},\r\n      shop: {},\r\n      detailInfo:{},\r\n      paramInfo:{},\r\n    };\r\n  },\r\n  created() {\r\n    // console.log(this.$route.params);\r\n    this.iid = this.$route.params.iid;\r\n    // 2.根据iid请求详情数据\r\n    getDetail(this.iid).then((res) => {\r\n      // 1.获取顶部的图片轮播数据\r\n      console.log(res);\r\n      const data = res.data.result;\r\n      this.topImages = data.itemInfo.topImages;\r\n\r\n      // 2.获取商品信息\r\n      this.goods = new Goods(\r\n        data.itemInfo,\r\n        data.columns,\r\n        data.shopInfo.services\r\n      );\r\n\r\n      // 3.创建店铺信息的对象\r\n      this.shop = new Shop(data.shopInfo);\r\n\r\n      // 4.保存商品的详情数据\r\n      this.detailInfo = data.detailInfo;\r\n\r\n      // 5.获取参数的信息\r\n      this.paramInfo = new GoodsParam(\r\n        data.itemParams.info,\r\n        data.itemParams.rule\r\n      );\r\n    });\r\n  },\r\n  methods: {\r\n    imageLoad(){\r\n      this.$ref.scroll.refresh()\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#detail {\r\n  position: relative;\r\n  z-index: 999;\r\n  background-color: #fff;\r\n  height: 100vh;\r\n}\r\n\r\n.detail-nav {\r\n  position: relative;\r\n  z-index: 999;\r\n  background-color: #fff;\r\n}\r\n\r\n.content {\r\n  height: calc(100% - 44px);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}